<html>
<head>
<title>Tile World Bugs</title>
</head>
<body>
Contents
<p>
<ul>
<li>
Bugs in the MS game logic emulation
<li>
Bugs in the Lynx game logic emulation
<li>
Other bugs and misfeatures
<li>
TODO: Missing features
</ul>
<p>
<hr>
<p>
Bugs in the MS game logic emulation
<p>
<ol>
<li>
Situation: Chip enters a teleport which a block cloner faces, and at
the teleport Chip exits, there is a block in the way, next to which is
the red button for said cloner. Thus, Chip entering the teleport
causes the block to be pushed onto the red button. In the real game,
Chip and the cloned block both emerge from the same teleport, which
vanishes. However, Chip does not exit in the correct direction: he
exits in the same direction as when he <em>last</em> exited a
teleport. If this is the first time Chip has entered a teleport on
this level, then Chip exits in the direction of the block, but facing
north regardless. The block itself vanishes, and in the place of the
teleport is a new Chip, also facing north. In this particular case,
Chip remains on the slide list, pushing against the new Chip tile,
until the player makes a move. In TW, Chip exits in the expected
direction. The teleport always vanishes, and the block never does.
<li>
The MS game permits movement via the mouse, which allows for a few
unusual maneuvers not otherwise possible. Tile World does not have any
form of mouse input.
<li>
The MS game checks for input more than once per tick. Probably this
was done to catch last-minute keyboard events, but it has the effect
that by having more than one input event in the queue, Chip can
sometimes have the latter move processed after he has moved but before
ay other creatures move.
<li>
In TW, the keyboard is scanned twice per tick, once at the beginning
and once in the middle. As a result, if Chip makes a move at the
beginning of a tick, the game does not update the display twice in a
row (once after the creatures move and once after Chip moves), but
just does it once. In a few places this has a non-trivial effect on
how the game appears, most notably when Chip tries to move against a
force floor. I do not believe that this optimization has a real effect
on the gameplay. It does, however, make it easier to examine the
screen when pushing against a force floor.
</ol>
<p>
<hr>
<p>
Bugs in the Lynx game logic emulation
<p>
<ol>
<li>
The pattern of "clone boosting" is not the same as the Lynx game.
It's hard to find examples that clearly show this; I have only one.
Play ICE HOUSE (102) on the Lynx. After landing safely on the red
button, step right to block off the teeth clones. Stay there. When the
clock reads 130 seconds or so, there will be a fireball clone that is
boosted. It will cross the ice just before a glider comes through, and
the glider will continue on its way past the red button. However, in
the emuluator, the fireball clone is not boosted. As a result, it is
still squarely on the ice when the glider arrives, and the latter
bounces off and retreats. The boosting pattern is governed by how
slots in the creature list come back up for reuse after a creature has
been killed. Clearly, the emulator is not using the same algorithm as
the Lynx game.
<li>
The Lynx game only permitted 128 creatures (including Chip) to exist
simultaneously. Thus, a clone machine activated when the population
was at maximum would "run out". The emulator does not enforce any such
maximum. Of course, fixing this would put a limit on the kinds of new
levels that people could create under the Lynx ruleset -- so this one
may be better off as it is....
<li>
Block pushing is currently not handled correctly. Pushed blocks move
when Chip does, when in reality they need to retain their own position
in the ordering.
<li>
Under the real Lynx game it is possible to push a block diagonally
without moving at all. This is done by pushing against a wall, and
then pushing diagonally against a neighboring block very briefly. The
block will get pushed, but Chip doesn't follow. (I suspect that this
is a manifestation of the previous bug, or in any case that it can't
be fixed before the previous bug is.)
<li>
Under the real Lynx game it is possible, with carefully constructed
circumstances, to have Chip push a block off of an open toggle wall
that then closes before Chip can enter it. This is the only situation
I know of, barring diagonal moves, in which Chip can push a block
without following it. This is impossible to do in TW. (This one may be
just another manifestation of the previous bug.)
<li>
Under the real Lynx game it is possible, with carefully constructed
circumstances, for Chip to push a block away from him as it's heading
towards him. That is, a block starts moving into the square that Chip
occupies, but in the same frame, Chip starts pushing the block in the
opposite direction. This is impossible to do in TW.
<li>
Teleports are handled incorrectly when a creature enters a teleport
and no exit is available, including at the teleport just entered. In
Tile World the creature becomes trapped on that teleport, unable to
move unless and until an exit becomes available. In the real Lynx
game, Chip becomes trapped permanently, even if an exit opens up on
the next frame. For other creatures, a teleport with no exits behaves
just like a normal floor.
</ol>
<p>
<hr>
<p>
Other bugs and misfeatures
<p>
<ol>
None listed at this time.
</ol>
<p>
<hr>
<p>
TODO: Missing features
<p>
<ol>
None listed at this time.
</ol>
</body>
</html>
